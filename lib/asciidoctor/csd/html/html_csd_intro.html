<div class="copyright">
  <p class="year">
    &copy; DOCYEAR The Calendaring and Scheduling Consortium, Inc.
  </p>

  <p class="message">
    All rights reserved. Unless otherwise specified, no part of this
    publication may be reproduced or utilized otherwise in any form or by any
    means, electronic or mechanical, including photocopying, or posting on the
    internet or an intranet, without prior written permission. Permission can
    be requested from the address below.
  </p>

  <p class="name">The Calendaring and Scheduling Consortium, Inc.</p>
  <p class="address">
    4390 Chaffin Lane<br/>
    McKinleyville<br/>
    California 95519<br/>
    United States of America<br/>
    <br/>
    copyright@calconnect.org<br/>
    www.calconnect.org
  </p>
</div>

<div class="rule"></div>

<div class="toc">
  <h1 class="toc-contents">Contents</h1>
  <ul id="toc-list"></ul>
</div>

<div class="rule"></div>

<script type="text/javascript"
  src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js">
</script>

<script>
// http://tutorials.jenkov.com/jquery/generating-table-of-contents.html
$(document).ready(function() {
  $("#toc-list").empty();

  var prevH2Item = null;
  var prevH2List = null;

  var index = 0;
  $("h1, h2").each(function() {

    if ($(this).hasClass("toc-contents")) {
      return;
    }
    //insert an anchor to jump to, from the TOC link.
    var anchor = "<a name='" + index + "'></a>";
    $(this).before(anchor);

    var li     = "<li><a href='#" + index + "'>" + $(this).text() + "</a></li>";

    if ($(this).is("h1") ){
      prevH2List = $("<ul></ul>");
      prevH2Item = $(li);
      prevH2Item.append(prevH2List);
      prevH2Item.appendTo("#toc-list");
    } else {
      prevH2List.append(li);
    }
    index++;
  });
});
</script>
